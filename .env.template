# S3 to Redshift Backup System Configuration
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control - it contains secrets!

# =============================================================================
# Database User Configuration (Shared)
# =============================================================================
# Database username (used across all MySQL connections)
DB_USER=your-database-username

# =============================================================================
# Database Passwords (Connection-Specific)
# =============================================================================
# US Data Warehouse Password (for US_DW_UNIDW_SSH, mysql_default connections)
DB_US_DW_PASSWORD=your-us-dw-password

# US Data Warehouse Read-Only Password (for US_DW_RO_SSH connection)
DB_US_DW_RO_PASSWORD=your-us-dw-ro-password

# Canada Data Warehouse Read-Only Password (for CA_DW_RO_SSH connection)
DB_CA_DW_RO_PASSWORD=your-ca-dw-ro-password

# US Production Read-Only Password (for US_PROD_RO_SSH connection)
DB_US_PROD_RO_PASSWORD=your-us-prod-ro-password

# US QA Environment Password (for US_QA_SSH connection)
DB_US_QA_PASSWORD=your-us-qa-password

# DB2 Instance Read-Only Password (for US_DB2_RO_SSH connection)
DB2_US_RO_PASSWORD=your-db2-ro-password

# =============================================================================
# SSH Configuration (MySQL Bastion Host)
# =============================================================================
# SSH username for MySQL database bastion host access
SSH_BASTION_USER=your-ssh-username

# Path to SSH private key file for MySQL bastion authentication
# Example: /home/username/.ssh/id_rsa or /home/username/.ssh/bastion_key.pem
SSH_BASTION_KEY_PATH=/path/to/your/ssh/key.pem

# =============================================================================
# Redshift SSH Configuration (Separate Bastion for Redshift)
# =============================================================================
# SSH username for Redshift bastion host access
REDSHIFT_SSH_BASTION_USER=your-redshift-ssh-username

# Path to SSH private key file for Redshift bastion authentication
REDSHIFT_SSH_BASTION_KEY_PATH=/path/to/your/redshift/ssh/key.pem

# =============================================================================
# S3 Configuration
# =============================================================================
# AWS Access Key ID for S3 access
AWS_ACCESS_KEY_ID=your-aws-access-key-id

# AWS Secret Access Key for S3 access
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# Alternative S3 credentials (legacy compatibility)
# Note: AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY are preferred
S3_ACCESS_KEY=your-aws-access-key-id
S3_SECRET_KEY=your-aws-secret-access-key

# =============================================================================
# Redshift Configuration
# =============================================================================
# Redshift QA/Dev User Credentials
REDSHIFT_USER=your-redshift-qa-username
REDSHIFT_PASSWORD=your-redshift-qa-password

# Redshift Production User Credentials (settlement_dws schema owner)
REDSHIFT_PRO_USER=your-redshift-prod-username
REDSHIFT_PRO_PASSWORD=your-redshift-prod-password

# =============================================================================
# Application Settings
# =============================================================================
# Debug mode (true/false) - Enables verbose logging for troubleshooting
DEBUG=false

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# - DEBUG: Detailed information for diagnosing problems
# - INFO: General informational messages (recommended for production)
# - WARNING: Warning messages for potentially harmful situations
# - ERROR: Error messages for serious problems
# - CRITICAL: Critical messages for very serious errors
LOG_LEVEL=INFO

# =============================================================================
# Performance Tuning (Optional - Uncomment to override defaults)
# =============================================================================
# Number of rows per Parquet file uploaded to S3
# Recommended: 100000-500000 for optimal Redshift COPY performance
# BACKUP_BATCH_SIZE=500000

# Maximum number of parallel workers for backup operations
# BACKUP_MAX_WORKERS=4

# Number of chunks for parallel processing
# BACKUP_NUM_CHUNKS=4

# Number of retry attempts for failed operations
# BACKUP_RETRY_ATTEMPTS=3

# Timeout in seconds for backup operations
# BACKUP_TIMEOUT_SECONDS=300

# =============================================================================
# Configuration Notes
# =============================================================================
# 1. All passwords should be strong and unique per environment
# 2. SSH key files must have 600 permissions (chmod 600 /path/to/key.pem)
# 3. Connections are defined in config/connections.yml with ${VAR} references
# 4. Pipeline configurations are in config/pipelines/*.yml
# 5. See Sophie_Branch_Development.md for detailed configuration examples
